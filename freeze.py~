from flask_frozen import Freezer
import os, fnmatch


def freeze(app):
    freezer = Freezer(app)
    freezer.register_generator(render_page)
    freezer.freeze()
    

def render_page():
    listOfFiles = os.listdir("templates/pages")
    pattern = "*.html.jinja2"
    for entry in listOfFiles:
        if fnmatch.fnmatch(entry, pattern):
            url = "/"+entry.replace(".jinja2","")
            print(url)
            yield(url)

